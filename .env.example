# ============================================
# SIEM in a Box (SIB) Configuration
# ============================================
# Copy this file to .env and customize values
# ============================================

# ==================== Grafana ====================
# Leave empty or CHANGE_ME to auto-generate secure password on install
GRAFANA_ADMIN_PASSWORD=CHANGE_ME
GRAFANA_PORT=3000

# ==================== Falco ====================
# Minimum priority for alerts: debug, info, notice, warning, error, critical, alert, emergency
FALCO_PRIORITY=notice
# Buffered outputs for better performance
FALCO_BUFFERED_OUTPUTS=true
# Time format: iso8601, rfc2822
FALCO_TIME_FORMAT=iso8601

# ==================== Falcosidekick ====================
SIDEKICK_PORT=2801
SIDEKICK_DEBUG=false
# Minimum priority to forward: debug, informational, notice, warning, error, critical, alert, emergency
SIDEKICK_MINIMUM_PRIORITY=notice

# ==================== Stack Selection ====================
# Choose your monitoring stack:
#   vm      - VictoriaLogs + VictoriaMetrics + node_exporter (recommended, lightweight)
#   grafana - Loki + Prometheus + Alloy (Grafana ecosystem)
STACK=vm

# ==================== Storage ====================
# Grafana Stack (STACK=grafana)
LOKI_PORT=3100
LOKI_RETENTION_PERIOD=168h
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_RETENTION_SIZE=5GB

# VictoriaMetrics Stack (STACK=vm)
VICTORIALOGS_PORT=9428
VICTORIALOGS_RETENTION_PERIOD=168h
VICTORIAMETRICS_PORT=8428
VICTORIAMETRICS_RETENTION_PERIOD=15d

# Storage bind address (127.0.0.1 = local only, 0.0.0.0 = accept remote collectors)
# Use 'make enable-remote' to enable remote collectors
STORAGE_BIND=127.0.0.1

# ==================== Optional Outputs ====================
# Uncomment and configure outputs as needed

# Slack
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ
# SLACK_CHANNEL=#security-alerts

# Discord
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/XXX/YYY

# PagerDuty
# PAGERDUTY_ROUTING_KEY=your-routing-key

# Opsgenie
# OPSGENIE_API_KEY=your-api-key

# Teams
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/XXX

# Elasticsearch
# ELASTICSEARCH_HOST_PORT=http://elasticsearch:9200
# ELASTICSEARCH_INDEX=falco

# AWS
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# ==================== mTLS (Fleet Security) ====================
# Enable mutual TLS for encrypted communication between fleet agents and server
# Requires certificates: run 'make generate-certs' first
MTLS_ENABLED=false

# ==================== AI Analysis (Optional) ====================
# Install with: make install-analysis
# Provider: anthropic, openai, ollama
LLM_PROVIDER=anthropic

# Anthropic (Claude) - recommended
ANTHROPIC_API_KEY=your-api-key
# ANTHROPIC_MODEL=claude-sonnet-4-20250514

# OpenAI
# OPENAI_API_KEY=your-api-key
# OPENAI_MODEL=gpt-4o

# Ollama (local - for privacy)
# OLLAMA_URL=http://localhost:11434
# OLLAMA_MODEL=qwen2.5:14b
